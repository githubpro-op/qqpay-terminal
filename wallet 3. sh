cd /var/www/qqpay

cat <<'EOF' | sudo tee resources/views/sections/wallet-modal.blade.php
<!-- ‚ö° QQWALLET FUTURISTIC FIXED UI ‚Äî V3.1 Neon Readable -->
<div id="wallet-modal" class="modal">
  <div class="modal-content wallet-neon">
    <button onclick="closeModal('wallet-modal')" class="btn-x">‚úñ</button>

    <div class="wm-header">
      <div class="wm-title">‚ö° QQWALLET</div>
      <div class="wm-sub">INSTANT ‚Ä¢ SECURE ‚Ä¢ SMART FINANCE</div>
    </div>

    <!-- BALANCES -->
    <!-- ‚ö° Neon Table for Balances -->
<div class="wallet-balance neon-table">
  <table>
    <thead>
      <tr>
        <th>Currency</th>
        <th>Balance</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>‚Çπ INR</td>
        <td id="wBalRS">‚Çπ0.00</td>
      </tr>
      <tr>
        <td>USDT (‚ÇÆ)</td>
        <td id="wBalUSDT">0.0000 ‚ÇÆ</td>
      </tr>
      <tr>
        <td>QQ COINS</td>
        <td id="wBalQQ">0.0000 QQ</td>
      </tr>
    </tbody>
  </table>
</div>

    <!-- ACTION BUTTONS -->
    <div class="wallet-actions">
      <button class="wallet-btn dep" onclick="qqOpenForm('depositForm')">üí∞ Deposit</button>
      <button class="wallet-btn wit" onclick="qqOpenForm('withdrawForm')">üèß Withdraw</button>
      <button class="wallet-btn exg" onclick="qqOpenForm('exchangeForm')">‚ôªÔ∏è Exchange</button>
      <button class="wallet-btn trf" onclick="qqOpenForm('transferForm')">üîÅ Transfer</button>
    </div>

    <!-- FORMS -->
    <div id="walletForms">

      <!-- DEPOSIT -->
      <div id="depositForm" class="form-box hidden">
        <h3>Deposit Funds</h3>
        <input type="number" id="depositAmt" placeholder="Enter amount in ‚Çπ" min="1" class="input-dark">
        <div class="method-tiles">
          <button onclick="qqDepositMethod('upi')">UPI</button>
          <button onclick="qqDepositMethod('bank')">BANK</button>
          <button onclick="qqDepositMethod('usdt')">USDT</button>
        </div>
        <div id="depositDetails" class="deposit-details"></div>
        <label class="file-label">Upload Receipt</label>
        <input type="file" id="depositReceipt" accept="image/*" class="input-dark">
        <button class="primary full" onclick="submitWalletDeposit()">Submit Deposit</button>
      </div>

      <!-- WITHDRAW -->
      <div id="withdrawForm" class="form-box hidden">
        <h3>Withdraw Funds</h3>
        <input type="number" id="withdrawAmt" placeholder="Enter withdraw amount" min="1" class="input-dark">
        <div class="method-tiles">
          <button onclick="qqWithdrawMethod('upi')">UPI</button>
          <button onclick="qqWithdrawMethod('bank')">BANK</button>
          <button onclick="qqWithdrawMethod('usdt')">USDT</button>
        </div>
        <div id="withdrawDetails" class="withdraw-details"></div>
        <button class="primary warn full" onclick="submitWalletWithdraw()">Submit Withdraw</button>
      </div>

      <!-- EXCHANGE -->
      <div id="exchangeForm" class="form-box hidden">
        <h3>Exchange Currency</h3>
        <select id="exchangeFrom" class="input-dark">
          <option value="RS">‚Çπ INR</option>
          <option value="USDT">USDT</option>
          <option value="QQ">QQ COINS</option>
        </select>
        <select id="exchangeTo" class="input-dark">
          <option value="USDT">USDT</option>
          <option value="RS">‚Çπ INR</option>
          <option value="QQ">QQ COINS</option>
        </select>
        <input type="number" id="exchangeAmt" placeholder="Enter amount" class="input-dark">
        <button class="primary full" onclick="submitWalletExchange()">Swap</button>
      </div>

      <!-- TRANSFER -->
      <div id="transferForm" class="form-box hidden">
        <h3>Transfer Assets</h3>
        <input type="text" id="transferID" placeholder="Recipient QQ ID" class="input-dark">
        <select id="transferMode" class="input-dark">
          <option value="RS">‚Çπ INR</option>
          <option value="USDT">USDT</option>
          <option value="QQ">QQ COINS</option>
        </select>
        <input type="number" id="transferAmt" placeholder="Enter amount" class="input-dark">
        <button class="primary full" onclick="submitWalletTransfer()">Send</button>
      </div>
    </div>

    <!-- HISTORY -->
    <div class="wallet-history">
      <div class="history-head">üßæ Recent Transactions</div>
      <table class="wallet-bal-table">
        <thead>
          <tr><th>Type</th><th>Amount</th><th>Method</th><th>Status</th><th>Date</th></tr>
        </thead>
        <tbody id="transaction-history">
          <tr><td colspan="5">Loading...</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
/* ‚ö° QQWALLET FUTURISTIC NEON STYLE ‚Äî v4.0 Ultra Edition */

/* =================== MODAL BASE =================== */
#wallet-modal.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, rgba(0,0,0,0.9), #000);
  backdrop-filter: blur(4px);
  z-index: 9999;
  overflow-y: auto;
}

.wallet-neon {
  max-width: 880px;
  margin: 3% auto;
  padding: 30px;
  border-radius: 22px;
  background: linear-gradient(145deg, #070707, #0a0a0a);
  border: 1px solid rgba(0,255,128,0.15);
  box-shadow:
    0 0 40px rgba(0,255,128,0.05),
    inset 0 0 20px rgba(0,255,128,0.05);
  position: relative;
  overflow: hidden;
}

/* Subtle moving light reflection */
.wallet-neon::before {
  content: "";
  position: absolute;
  top: -150%;
  left: -50%;
  width: 200%;
  height: 400%;
  background: linear-gradient(
    115deg,
    transparent 0%,
    rgba(0,255,120,0.05) 40%,
    transparent 80%
  );
  transform: rotate(25deg);
  animation: panelSweep 8s linear infinite;
}
@keyframes panelSweep {
  from { left: -60%; }
  to { left: 60%; }
}

/* =================== HEADINGS =================== */
.wm-title {
  text-align: center;
  font-size: 28px;
  font-weight: 900;
  color: #90ffb7;
  letter-spacing: 1px;
  text-shadow: 0 0 20px #00ff99aa;
  margin-bottom: 4px;
}
.wm-sub {
  text-align: center;
  color: #bbb;
  font-size: 13px;
  letter-spacing: 1px;
  margin-bottom: 15px;
}

/* =================== BALANCES TABLE =================== */
.wallet-balance {
  margin-top: 18px;
  border-radius: 16px;
  padding: 12px;
  background: linear-gradient(180deg,#0c0c0c,#050505);
  border: 1px solid rgba(0,255,128,0.2);
  box-shadow: 0 0 25px rgba(0,255,120,0.08);
}
.wallet-balance table {
  width: 100%;
  border-collapse: collapse;
  text-align: center;
}
.wallet-balance th {
  color: #00ffcc;
  text-shadow: 0 0 15px #00ffcc;
  border-bottom: 1px solid rgba(0,255,120,0.15);
  padding: 12px;
  font-weight: 800;
  letter-spacing: 1px;
  font-size: 14px;
}
.wallet-balance td {
  color: #baffc9;
  padding: 12px;
  font-weight: 700;
  border-bottom: 1px solid rgba(255,255,255,0.04);
  transition: 0.3s;
}
.wallet-balance tr:hover td {
  color: #fff;
  text-shadow: 0 0 15px #00ff88;
  background: rgba(0,255,128,0.05);
}

/* =================== BUTTONS =================== */
.wallet-actions {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  margin: 26px 0;
}
.wallet-btn {
  position: relative;
  border: none;
  border-radius: 14px;
  padding: 14px 0;
  font-weight: 900;
  font-size: 16px;
  color: #fff;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  cursor: pointer;
  background: linear-gradient(145deg,#400016,#80002b,#b3003a);
  box-shadow:
    0 0 10px rgba(255,0,85,0.25),
    inset 0 0 20px rgba(255,40,100,0.3);
  transition: all 0.3s ease;
  overflow: hidden;
}
.wallet-btn::before {
  content: "";
  position: absolute;
  top: -150%;
  left: -50%;
  width: 200%;
  height: 400%;
  background: linear-gradient(
    120deg,
    transparent 0%,
    rgba(255,70,140,0.35) 40%,
    transparent 80%
  );
  transform: rotate(25deg);
  opacity: 0;
  transition: 0.4s;
}
.wallet-btn:hover::before {
  top: -100%;
  left: -40%;
  opacity: 1;
}
.wallet-btn:hover {
  transform: translateY(-3px) scale(1.04);
  background: linear-gradient(145deg,#ff0044,#b3003a,#660022);
  box-shadow:
    0 0 25px rgba(255,0,100,0.6),
    inset 0 0 25px rgba(255,40,100,0.7);
  animation: neonPulse 1.5s infinite alternate;
}
@keyframes neonPulse {
  0%, 100% {
    box-shadow:
      0 0 15px rgba(255,0,100,0.4),
      inset 0 0 10px rgba(255,40,100,0.3);
  }
  50% {
    box-shadow:
      0 0 30px rgba(255,0,100,0.8),
      inset 0 0 20px rgba(255,70,120,0.5);
  }
}

/* =================== FORM BOXES =================== */
.form-box {
  padding: 16px;
  margin-top: 10px;
  border-radius: 14px;
  background: linear-gradient(180deg,#111,#080808);
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: inset 0 0 20px rgba(0,255,120,0.03);
}
.form-box h3 {
  color: #90ffb7;
  text-shadow: 0 0 12px rgba(0,255,128,0.3);
}
.form-box input,
.form-box select {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 10px;
  border: 1px solid rgba(0,255,128,0.2);
  background: #141414;
  color: #fff;
  font-size: 14px;
  outline: none;
  transition: 0.2s;
}
.form-box input:focus,
.form-box select:focus {
  border-color: #00ff88;
  box-shadow: 0 0 10px rgba(0,255,128,0.2);
}
.method-tiles {
  display: flex;
  gap: 8px;
  margin: 10px 0;
}
.method-tiles button {
  flex: 1;
  border: none;
  padding: 12px;
  border-radius: 10px;
  background: linear-gradient(90deg,#ff00ff88,#00ff99aa);
  color: #000;
  font-weight: 800;
  cursor: pointer;
}

/* =================== TABLE: TRANSACTION HISTORY =================== */
.wallet-history {
  margin-top: 22px;
  background: linear-gradient(180deg,#0a0a0a,#050505);
  padding: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 0 0 20px rgba(0,255,128,0.04);
}
.history-head {
  color: #90ffb7;
  font-weight: 700;
  margin-bottom: 10px;
  text-align: center;
  letter-spacing: 0.8px;
}
.wallet-bal-table {
  width: 100%;
  border-collapse: collapse;
  text-align: center;
}
.wallet-bal-table th {
  color: #00ffa1;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  padding: 10px;
  font-size: 13px;
}
.wallet-bal-table td {
  color: #fff;
  padding: 10px;
  font-size: 13px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

/* =================== POPUP =================== */
.popup {
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translate(-50%,-50%);
  background: #0f0;
  padding: 20px 30px;
  border-radius: 15px;
  box-shadow: 0 0 25px #0f08;
  z-index: 99999;
  font-weight: 800;
  color: #000;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  animation: popupPulse 1.2s infinite alternate;
}
@keyframes popupPulse {
  0%,100% { box-shadow: 0 0 15px #00ff99aa; }
  50% { box-shadow: 0 0 25px #00ff99; }
}

/* =================== UTILITIES =================== */
.hidden { display: none; }
.btn-x {
  position: absolute;
  top: 14px;
  right: 14px;
  background: transparent;
  border: none;
  color: #00ffb0;
  font-size: 20px;
  cursor: pointer;
  transition: 0.2s;
}
.btn-x:hover {
  color: #ff0066;
  transform: scale(1.2);
}
</style>
<script>
function qqOpenForm(id){document.querySelectorAll('#walletForms .form-box').forEach(f=>f.classList.add('hidden'));const el=document.getElementById(id);if(el)el.classList.remove('hidden');}
function showPopup(msg){const p=document.createElement('div');p.className='popup';p.innerText=msg;document.body.appendChild(p);setTimeout(()=>p.remove(),1500);}
function qqDepositMethod(m){let html='';if(m==='upi')html='<div><b>UPI ID:</b> admin@upi</div>';if(m==='bank')html='<div><b>Bank:</b> SBI<br>Acc: 1234567890<br>IFSC: SBIN0000111</div>';if(m==='usdt')html='<div><b>USDT TRC20:</b> TXs2Adf11xPQz99kZ</div>';document.getElementById('depositDetails').innerHTML=html;}
function qqWithdrawMethod(m){let html='';if(m==='upi')html='<input class="input-dark" placeholder="Enter UPI ID">';if(m==='bank')html='<input class="input-dark" placeholder="Account Name"><input class="input-dark" placeholder="Account No"><input class="input-dark" placeholder="IFSC">';if(m==='usdt')html='<input class="input-dark" placeholder="Your TRC20 Address">';document.getElementById('withdrawDetails').innerHTML=html;}
async function loadWalletData(){try{const r=await fetch('/wallet/{{ Auth::id() }}');const d=await r.json();document.getElementById('wBalRS').innerText='‚Çπ'+parseFloat(d.wallet.balance_rs).toFixed(2);document.getElementById('wBalUSDT').innerText=parseFloat(d.wallet.balance_usdt).toFixed(4)+' ‚ÇÆ';document.getElementById('wBalQQ').innerText=parseFloat(d.wallet.balance_qq).toFixed(4)+' QQ';const tb=document.getElementById('transaction-history');tb.innerHTML='';if(!d.transactions||!d.transactions.length)tb.innerHTML='<tr><td colspan="5">No Transactions</td></tr>';else d.transactions.forEach(t=>tb.innerHTML+=`<tr><td>${t.type}</td><td>${t.amount}</td><td>${t.method}</td><td>${t.status}</td><td>${new Date(t.created_at).toLocaleString()}</td></tr>`);}catch(e){showPopup('Wallet load failed');}}
async function sendWalletReq(url,body){try{const r=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json','X-CSRF-TOKEN':'{{ csrf_token() }}'},body:JSON.stringify(body)});const d=await r.json();showPopup(d.message||'Done');loadWalletData();}catch(e){showPopup('Action failed');}}
async function submitWalletDeposit(){await sendWalletReq('/wallet/deposit',{amount:depositAmt.value});}
async function submitWalletWithdraw(){await sendWalletReq('/wallet/withdraw',{amount:withdrawAmt.value});}
async function submitWalletExchange(){await sendWalletReq('/wallet/exchange',{from:exchangeFrom.value,to:exchangeTo.value,amount:exchangeAmt.value});}
async function submitWalletTransfer(){await sendWalletReq('/wallet/transfer',{to_id:transferID.value,mode:transferMode.value,amount:transferAmt.value});}
document.addEventListener('DOMContentLoaded',loadWalletData);
</script>
EOF
